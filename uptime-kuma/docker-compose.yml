services:
  uptime-kuma:
    image: louislam/uptime-kuma:latest
    container_name: uptime-kuma
    labels:
      - "snadboy.revp.3001.domain=uptime-kuma.isnadboy.com"
    environment:
      - TZ=America/Chicago
    user: "1000:1000"
    entrypoint: ["/usr/bin/dumb-init", "--", "node", "server/server.js"]
    volumes:
      # Use named volume for SQLite - CIFS/network storage causes locking issues
      - uptime-kuma-data:/app/data
    ports:
      - 3001:3001 # <Host Port>:<Container Port>
    restart: unless-stopped

volumes:
  uptime-kuma-data:
    external: true
    # Pre-created volume for SQLite - CIFS/network storage causes locking issues
    # Create with: docker volume create uptime-kuma-data
